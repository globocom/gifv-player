/*! GIFV Player - v0.0.5 - 2015-03-30
* Copyright (c) 2015 Globo.com; Licensed MIT */
function GifvPlayer(){"use strict";this.init.apply(this,arguments)}!function(a,b){"use strict";var c,d;c={play:function(a){a.find("> video")[0].play()},pause:function(a){a.find("> video")[0].pause()},isPaused:function(a){return a.find("> video")[0].paused}},d={play:function(a){var b=a.find("> img");b.data("gifv-playing",!0).attr("src",b.data("gifv-original"))},pause:function(a){var b=a.find("> img");b.data("gifv-playing",!1).attr("src",b.data("gifv-poster")),a.removeClass("gifv-player-playing")},isPaused:function(a){return!a.find("> img").data("gifv-playing")}},GifvPlayer.prototype={selector:".gifv-player",options:{autostart:!0},init:function(a){b.extend(this.options,a),this.videoSelector=this.selector+" video",this.hasVideoSupport()?this.controller=c:(this.controller=d,this.replaceVideoWithWrapper()),this.bindEvents(),this.addOverlay()},replaceVideoWithWrapper:function(){b(this.videoSelector).replaceWith(function(){var a=b(this);return b("<img />",{src:a.attr("poster"),attr:{width:a.attr("width"),height:a.attr("height")},data:{"gifv-poster":a.attr("poster"),"gifv-original":a.data("gifv-original")}})})},addOverlay:function(){b('<div class="gifv-player-overlay" />').appendTo(this.selector)},destroy:function(){b(document).off(".gifv"),b(this.videoSelector).off(".gifv")},bindEvents:function(){var a=this;b(document).on("click.gifv",this.selector,function(c){c.preventDefault();var d=b(this);a.playPause(d)}),this.options.autostart&&b(document).on("mouseenter.gifv",this.selector,function(c){c.preventDefault();var d=b(this);a.play(d)})},playPause:function(a){this.controller.isPaused(a)?this.play(a):this.pause(a)},play:function(a){var c=b(document).data("gifv-current");c&&this.pause(c),b(document).data("gifv-current",a),a.addClass("gifv-player-playing"),this.controller.play(a)},pause:function(a){b(document).removeData("gifv-current"),a.removeClass("gifv-player-playing"),this.controller.pause(a)},hasVideoSupport:function(){var a=document.createElement("video");return!!a.canPlayType&&(""!==a.canPlayType("video/mp4")||""!==a.canPlayType("video/webm"))}}}(this,jQuery);